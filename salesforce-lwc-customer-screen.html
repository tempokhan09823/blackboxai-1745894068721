<template>
  <lightning-card title="E-Signature Customer Portal" icon-name="standard:document">
    <div class="slds-p-around_medium">
      <p class="slds-text-body_regular slds-m-bottom_medium">Please review and fill out the required fields in the document below:</p>
      <div class="document-viewer slds-box" style="height: 600px; overflow-y: auto; border: 1px solid #d8dde6; position: relative;">
        <template if:true={pdfUrl}>
          <iframe src={pdfUrl} style="width: 100%; height: 100%; border: none;"></iframe>
          <template for:each={formFields} for:item="field">
            <div key={field.id} class="form-field" style={field.style}>
              <template if:true={field.isInput}>
                <lightning-input type={field.type} label={field.label} value={field.value} onchange={handleFieldChange} data-id={field.id}></lightning-input>
              </template>
              <template if:false={field.isInput}>
                <span>{field.label}</span>
              </template>
            </div>
          </template>
        </template>
        <template if:false={pdfUrl}>
          <p class="slds-text-body_small slds-text-color_weak">No document to display.</p>
        </template>
      </div>
      <lightning-button label="Submit" onclick={handleSubmit} variant="brand" class="slds-m-top_medium"></lightning-button>
    </div>
  </lightning-card>
</template>
